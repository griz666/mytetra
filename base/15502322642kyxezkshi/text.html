<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Почему Wi-Fi не будет работать, как планировалось, и зачем знать, каким телефоном пользуется сотрудник </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://habr.com/ru/company/comptek/"><span style=" text-decoration: underline; color:#0000ff;">Блог компании CompTek</span></a>, </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://habr.com/ru/hub/wireless/"><span style=" text-decoration: underline; color:#0000ff;">Беспроводные технологии</span></a>, </li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://habr.com/ru/hub/network_technologies/"><span style=" text-decoration: underline; color:#0000ff;">Сетевые технологии</span></a> </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image15502322378g9ozgv8jo.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Привет!<br /><br />Поговорим о том, что реально влияет на скорость передачи данных в современных беспроводных сетях, развенчаем пару мифов и ответим, пора ли поменять свой старенький роутер на сверкающего рогатого пришельца с MU-MIMO на борту.<br /><br />Для разминки — небольшая задачка. Представьте себе беспроводную сеть Wi-Fi, состоящую из точки доступа (AP) и двух одинаковых клиентских устройств (STA1 и STA2).<br /><br />Читаем надписи на коробках:<br />AP: 1733,3 Мбит/c<br />STA1, STA2: 866,7 Мбит/c<br /><br /></span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Внимание, вопрос.</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> Оба клиента одновременно начинают загружать с сервера большой файл. На какую пропускную способность может рассчитывать каждое из устройств?<br /></span><a name="habracut"></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Sans Serif'; font-size:9pt;">Сразу оговоримся — для простоты и наглядности мы будем называть пропускную способность (канальную скорость) просто </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">скоростью</span><span style=" font-family:'Sans Serif'; font-size:9pt;">. Да, </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">скорость</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> работы протоколов транспортного уровня может оказаться в два раза ниже, чем наша </span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">скорость</span><span style=" font-family:'Sans Serif'; font-size:9pt;">, но вы и так всё это знаете. Сейчас о другом.<br /><br />Наша задачка призвана напомнить о главном ограничении беспроводных сетей.<br />Общая среда передачи (shared medium) подразумевает, что в единицу времени вещать должно только одно устройство. <br /><br />Это обстоятельство приводит нас к контринтуитивному ответу: несмотря на то, что точка доступа способна поддерживать 1733,3 Мбит/c, каждое из устройств будет работать, в среднем, на скорости 433,3 Мбит/c.<br /><br /></span><img src="image1550232237h81frxbqck.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Куда делись оставшиеся 866,7 Мбит/c? Давайте разбираться.<br /><br />Для описания принципов работы беспроводных сетей удобно использовать метрику Airtime Utilization. Она показывает, какую часть времени эфир занят передачей данных.<br /><br />Теперь — внимание! Для того, чтобы развить заявленные 1733,3 Мбит/c, устройство должно единолично занимать эфир все 100% времени. При этом второе устройство (принимающее) должно также поддерживать данную скорость.<br /><br />Ещё раз подчеркнём — связь между устройствами, поддерживающими разные скорости, осуществляется на скорости наименее быстрого из пары.<br /><br />Всё становится грустнее, если максимум устройства, например, 72,2 Мбит/c. Занять придётся те же самые 100% эфира, но результат уже совсем не впечатляющий. <br /><br />К слову, 72,2 Мбит/c — скорость не случайная. Большинство современных смартфонов на большее могут не рассчитывать, но об этом позже. <br /><br />Теперь вернёмся к STA1 и STA2. По условиям они начали загружать файл на сервер одновременно. Мы помним, что в единицу времени вещать может только одно устройство.<br />Координирует передачу в сети Wi-Fi механизм CSMA/CA — Carrier Sense Multiple Access with Collision Avoidance. Если вкратце, его задача — последовательно дать право голоса всем устройствам, при этом, по возможности, не допустив одновременной передачи от двух и более устройств (коллизии).<br /><br />Можете почитать </span><a href="https://en.wikipedia.org/wiki/Carrier-sense_multiple_access_with_collision_avoidance"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">википедию</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, если хотите подробностей.<br />А лучше — </span><a href="http://www.revolutionwifi.net/revolutionwifi/2011/03/understanding-wi-fi-carrier-sense.html"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">это.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> Или — </span><a href="https://www.amazon.com/Certified-Wireless-Network-Administrator-Study/dp/1119425786/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1540311381&amp;sr=1-1&amp;keywords=cwna"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">вот</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, если настроены совсем серьёзно.<br /><br />Причём тут Airtime Utilization? А при том, что в итоге работы CSMA/CA для данного случая каждое из двух готовых к передаче клиентских устройств получит под свои нужды примерно половину эфирного времени — или 50% Airtime.<br /><br />100% Airtime — 866,7 Мбит/c;<br />50% Airtime — 433,3 Мбит/c на каждое из устройств.<br /><br />Эта картина не поменяется, даже если точка доступа будет поддерживать все 6933,3 Мбит/c. Связь между AP и STA всегда ограничена скоростью наименее быстрого из устройств.<br /><br />Можете из любопытства слегка поиграться с условиями задачи:<br />Изменим скорость для STA2 — 72,2 Мбит/c;<br />Добавим STA3, скорость — 72,2 Мбит/c.<br />Что осталось от заявленных 1733,3 Мбит/c?<br /><br /></span><img src="image15502322379p8ne3dcfy.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Важное уточнение №1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Справедливости ради добавим, что данные расчёты верны при включении на БС функционала </span><a href="https://www.youtube.com/watch?v=Qb1_3KLIvhg"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Airtime Fairness</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, без него всё было бы гораздо хуже — медленные клиентские устройства привели бы к максимально неэффективному распределению Airtime. Хорошо, что технологию внедрили практически все уважающие себя вендоры. <br /><br />Но и тут есть нюанс: Airtime Fairness работает только в Downlink (от AP к STA). В Uplink по-прежнему царит анархия.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Важное уточнение №2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />В реальной сети из-за загруженности эфира, коллизий и особенностей работы протокола максимально достижимый уровень Airtime Utilization находится в пределах от 70% до 80%.<br />Соответствующим образом поменяется и рассчитанная нами скорость.<br /><br />К чему столь долгая прелюдия? Знайте, какие клиентские устройства используются на вашей сети. Их влияние на производительность в условиях общей среды передачи данных критически недооценено. Далее будем разбираться — насколько.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Часть 1 — Во всём виноваты клиенты</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Или клиентские устройства, если угодно. Чем же они провинились и что, собственно, отличает их от точек доступа?<br /><br /></span><img src="image1550232237une3rek323.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Всё просто. Чаще всего клиенты — компактные, автономные и мобильные. Из этого вытекают все проблемы. <br /><br />Стильный металлический корпус толщиной 7 мм? Для размещения 4-х радиотрактов MIMO лучше не придумаешь.<br /><br />Многопоточная передача данных и широкие каналы слишком энергозатратны? Ничего, пусть заряжают устройства несколько раз в день.<br /><br />Клиенты постоянно перемещаются? Ерунда — выкрутим мощность на точках на максимум.<br /><br />В подобных условиях разработчики вынуждены идти на компромиссы.<br /><br />Помните могучую точку доступа (1733 Мбит/c) из вступления к статье? Давайте пойдём ещё дальше. Стандарт 802.11ac позволяет нам разогнаться до внушительных 6933 Мбит/c.<br /><br />Условия для этого следующие:<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">5 ГГц;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">8 пространственных потоков (MIMO 8x8:8);</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">160 МГц — ширина канала;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">256QAM — модуляция.</li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Соответствующие требованиям точки доступа на рынке представлены даже в потребительском сегменте. Что с клиентами?<br /><br />Для наглядности проведём мысленный эксперимент: подключим к нашей абстрактной точке вполне конкретный смартфон — iPhone 8. Посмотрим, на что он способен.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">2,4 ГГц vs 5 ГГц</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Многолетние наблюдения подтверждают — устройств, работающих в «пятёрке», всё больше. И это прекрасно. <br /><br />Единственное достоинство 2,4 ГГц — меньшее затухание — на сегодняшний день превратилось едва ли не в недостаток. <br /><br />При проектировании плотных сетей одна из задач — борьба с интерференцией. Боремся, в том числе, за счёт изоляции зон покрытия AP друг от друга. В ход идут стены, занижается мощность на передатчике, и «дальнобойность» двойки здесь явно лишняя.<br /><br />Так или иначе — будущее Wi-Fi за «пятёркой», если не рассматривать уж совсем узкие кейсы. <br />Статистика, тем не менее, не даёт однозначно достоверных данных по распределению устройств — слишком много переменных (страна, регион, локация, мероприятие и другие).<br /><br />Пожалуй, на сегодняшний день можно осторожно говорить, что в России мы достигли соотношения 50/50 по поддержке в клиентских устройствах диапазона 5 ГГц. <br /><br />Как будет в вашей сети — другой вопрос.<br />Наш воображаемый iPhone 8, кстати, «пятёрку» поддерживает, ну и хорошо.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">MIMO</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Возможность одновременно передавать несколько потоков данных в едином частотном канале появилась ещё в 802.11n. Однако, воз и ныне там:<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">MIMO 8x8:8 клиенты пока не поддерживают. Совсем;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Практически полное отсутствие клиентских устройств с MIMO 4x4:4 — смотри комментарий ниже;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Топовые ноутбуки, поддерживающие MIMO 3x3:3;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Топовые смартфоны и планшеты, поддерживающие MIMO 2x2:2;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Абсолютное большинство устройств — SISO 1x1:1.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />А всё потому, что технология MIMO очень требовательна: <br /><br /></span><img src="image1550232237rkr8filqpy.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">MIMO, SISO — что это, вообще, такое? И что за цифры?</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Клиентские устройства с MIMO 4x4:4 начали появляться на рынке совсем недавно. В основном это выделенные адаптеры Wi-Fi, но недавно нас ошарашил Samsung, заявив в описании к своему новому Galaxy Note 9 — MIMO 4x4. Очень некстати, ведь мы хотели написать, что мобильных устройств с подобными характеристиками на рынке пока нет.<br /><br />В связи с этим — конкурс. <br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Условия</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Как говорят — исключения подтверждают правило.<br /><br />Устройств с MIMO 4x4:4 — практически нет. MIMO 3x3:3 — удел редких Macbook Pro. MIMO 2x2:2 — в топовых смартфонах и планшетах. Статистическое большинство — устройства, не поддерживающие MIMO.<br /><br />Мы не будем как большинство. Наш iPhone 8 — топовый смартфон, поддерживающий передачу аж двух пространственных потоков.<br /><br />Откуда мы это узнали — важный вопрос. Расскажем в последней части статьи.<br /><br />Как мы помним, связь между устройствами, поддерживающими разные скорости, осуществляется на скорости наименее быстрого из пары.<br /><br />Вжух — и осталось 1733,3 Мбит/c. Грустно. Но весело — это ведь почти два гигабита!<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Математика</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Ширина канала</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />802.11ac позволяет нам использовать каналы шириной в 160 МГц.<br />Пожалуйста, не делайте этого.<br /><br />Более того, каналы в 80 МГц также категорически не рекомендованы к использованию.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Ещё раз:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Всё дело в том, что, расширяя полосу, мы, по сути, распахиваем ворота для интерференции всех мастей — портим эфир и себе, и соседям.<br /><br />Мы не будем подробно разбирать, почему так происходит — это тянет на отдельную статью, однако можете самостоятельно ознакомиться с рекомендациями и Best practice guides ведущих вендоров — только 20 МГц, за редкими исключениями.<br /><br />40 МГц допускается только в “пятёрке”, в случае, если плотность клиентов и обстановка в эфире позволяет. <br /><br />Но мы ведь оптимисты — будем считать, что наша сеть именно такая. <br />Итак, от 1733,3 Мбит/c остаётся 400 Мбит/c — для канал шириной 40 МГц.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Математика</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Ок, уже не так впечатляет, но всё равно неплохо, да?<br /><br />P.S.: Если вы живёте в лесу и очень хорошо понимаете, что делаете — хорошо, включите 160 МГц. Не факт, что будет толк. Например, пресловутый iPhone 8 такую ширину канала не поддерживает, хотя выпущен всего год назад. <br /><br />Читайте до конца, чтобы узнать, на что способно ваше устройство.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Модуляция</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Любопытный факт: клиентские устройства — основные источники интерференции в сети.<br />К чему это? А к тому, что даже идеально спланированная и настроенная сеть не гарантирует работу на максимальных модуляциях, ведь 256QAM предъявляет очень высокие требования к качеству сигнала — RSSI и SNR.<br /><br />Про RSSI мы ещё поговорим, а SNR напрямую страдает от клиентов со всенаправленными антеннами — таких мобильных и непредсказуемых. Ну, и не только от них, разумеется.<br /><br /></span><img src="image1550232237by3jlh3eti.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Как результат — рассчитывайте, что б</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">о</span><span style=" font-family:'Sans Serif'; font-size:9pt;">льшую часть времени клиенты будут использовать менее требовательную модуляцию. Например, 64QAM.<br /><br />В нашем эксперименте это безжалостно снижает скорость до 300 Мбит/c.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Математика</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Что касается RSSI — то это наш любимый параметр. В стандарте 802.11 никаких описаний и требований к нему нет, поэтому каждый вендор видит данную метрику по-своему. Соответственно, разные клиентские устройства будут показывать разный RSSI в одном и том же месте.<br /><br />Вы, кстати, по какому уровню планируете? -67 дБм? А для какого устройства?<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Но и это ещё не всё</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Подытог №1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Даже при весьма оптимистическом сценарии клиент получит всего 300 Мбит/c пропускной способности — вместо 6933 Мбит/c. И это в случае, если клиент всего один! Много таких сетей знаете?<br /><br />Вспоминаем задачки. Чем больше клиентов — тем хуже. Не хотели расстраивать раньше времени, но зависимость нелинейная. С ростом числа устройств в сети увеличивается процент оверхеда.<br /><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Вот каким правилом предлагает пользоваться уважаемый Devin Akin в своей статье о реальной пропускной способности в Wi-Fi</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Итог: производительность сильно зависит от подключенных клиентов. Скорее всего, их способности будут весьма ограниченными.<br /><br />Оптимистичный сценарий —300 Мбит/c (5 ГГц, 40 МГц, 2SS, 64QAM).<br />Реалистичный сценарий — 72 Мбит/c (2,4 или 5 ГГц, 20 МГц, 1SS, 64QAM).<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Часть 2 — Что ещё не так с клиентскими устройствами</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Да, всё только начинается.<br /><br />Можно выделить три крупных проблемы:<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Многообразие;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Непредсказуeмость;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Уязвимость.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Давайте разберём их подробнее.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Многообразие</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><img src="image1550232237snmm7tgrwz.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Помните наш iPhone 8? Хороший телефон, кстати. А знаете, что Apple перестала получать сертификацию Wi-Fi Alliance начиная с iPhone 6?<br />Можете проверить сами — информация </span><a href="https://www.wi-fi.org/product-finder"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">открытая.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Заодно напишите в комментариях о других удивительных открытиях.<br /><br />Что, собственно, за организация — Wi-Fi Alliance?<br />Ребята пытаются следить за порядком в зоопарке. Значок Wi-Fi Certified означает, что устройство было проверено на соответствие основным пунктам стандарта 802.11. Проверка ведётся в аккредитованных лабораториях, всё более-менее серьёзно.<br /><br />Почему возникла подобная необходимость?<br />Для того, чтобы обеспечить совместимость миллионам разнообразных устройств, работающим на разных чипсетах и разработанных людьми, отличающимися разной степенью квалификации и моральными ориентирами.<br /><br />Помогло?<br />Не очень. Как показывает практика, каждый вендор имеет своё уникальное видение и позволяет себе отступать от стандарта (из лучших побуждений, разумеется).<br /><br />Один из забавных примеров — прошлогодний KRACK. Не все устройства были подвержены уязвимости, так как многие производители по-своему интерпретировали процедуру обмена ключами. В частности — как вести себя в случае отсутствия ответа на третье сообщение последовательности 4-Way Handshake. Почитайте </span><a href="https://www.krackattacks.com/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">подробнее</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">, если интересно. <br /><br />Что в итоге?<br />Зоопарк.<br /><br />Проще всего, по понятным причинам, с Apple. Хотя они и не сертифицируют свои новинки, парк устройств всё-таки ограничен. Поэтому можно протестировать поведение в тех или иных сценариях.<br /><br />Дальше идёт Android. Тут многое зависит от производителя, но в целом — ещё больше неизвестных. Добавьте сюда китайцев.<br /><br />На этом идеи по классификации заканчиваются. Операционные системы, драйвера, legacy-устройства, мультиварки, дверные замки, камеры видеонаблюдения — BYOD и IoT во всей красе. <br /><br />Проблема усугубляется тем, что многие критические решения клиентские устройства принимают самостоятельно, напрямую повлиять на них нельзя.<br />Подключиться к «пятёрке» или к «двойке»?<br />Произвести роуминг или остаться на старой AP?<br />На какой модуляции работать?<br /><br />Об этом подробнее в следующей главе.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Непредсказуемость</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Wi-Fi устроен так, что клиентские устройства стараются самостоятельно справиться с возникающими трудностями. Не всегда эти решения оптимальны.<br /><br /></span><img src="image1550232237a3jice0xk5.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Если устройству кажется, что лучше сидеть на шестом канале с уровнем -85 дБм, чем переподключиться к соседней точке с уровнем -50 дБм, работающей в свободной «пятёрке» — значит, так оно и будет.<br /><br />Эффективных механизмов, позволяющих прямо управлять поведением клиентских устройств, нет. В этом отличие, например, от сотовой связи.<br /><br />Вы возразите — а как же 802.11k (Radio resource measurement enchancements) и 802.11v (Wireless network management), принятые в 2008 и 2011 году соответственно?<br /><br />Данные стандарты теоретически направлены на решение проблемы. Практически — ничего не работает.<br /><br />Да, точка может отправить Load Balancing Request — вежливо попросить клиента произвести роуминг. Удовлетворять данную просьбу никто не обязан. Более того, клиентов, поддерживающих 802.11k и v, до сих пор мало.<br /><br />Основное применение описанных выше стандартов — помощь в быстром роуминге механизму 802.11r (Fast BSS transition). Клиент получает список ближайших AP, на которые ему стоило бы переподключиться — и уже дальше сумасбродное устройство решает, что для него лучше.<br /><br />О роуминг сломано немало копий, хорошие статьи можно найти здесь, на Хабре.<br /></span><a href="https://habr.com/post/340140/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Раз.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> </span><a href="https://habr.com/post/185138/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Два.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Есть ещё монументальное (но незавершённое) исследование прекрасного Andrew von Nagy —<br /></span><a href="http://www.revolutionwifi.net/revolutionwifi/2013/01/wi-fi-roaming-analysis-with-wireshark.html"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">три.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Повторяться не будем, просто ещё раз подчеркнём: переключение между AP — на совести клиента. От этого и большинство проблем.<br /><br />Вендоры пытаются бороться с самостоятельностью клиентов. Стандартные средства не помогают, поэтому в ход идут ухищрения. Это прямо как в книжках по бизнесу: не пытайся переубедить — сделай так, чтобы клиент сам пришёл к нужному выбору.<br /><br />Так, например, работает Band Steering (механизм перевода клиентов из «двойки» в более свободную «пятёрку»):<br /><br /></span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Устройство пытается подключиться к сети. Скорее всего, это будем именно 2,4 ГГц: драйверу устройства кажется, что так будет лучше — смотри, какой сильный сигнал!</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">AP проверяет, поддерживает ли устройство 5 ГГц. Умная система постоянно ведёт учёт всех MAC-адресов, с которых рассылались запросы или производилось подключение к «пятёрке» ранее;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DualBand-клиенты (поддерживающие оба диапазона) просто не получают ответа на свой запрос в диапазоне 2,4 ГГц;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Так происходит несколько раз подряд, и в итоге разочарованный драйвер решает искать лучшей доли в другом диапазоне;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Вуаля!</li></ol>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />К сожалению, некоторые устройства очень упорны. Убеждение не действует, и они продолжают цепляться к выбранному диапазону, пока точка не сдастся и не подтвердит подключение.<br />Сдаться придётся, ведь иначе можно нарваться на неожиданный эффект — отвергнутый и раздосадованный клиент просто помечает данный SSID как ненадёжный и перестаёт автоматически подключаться к сети (раньше за подобным поведением были замечены устройства Apple, к примеру).<br /><br />Список можно продолжать бесконечно:<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Неожиданный и очень крепкий сон (особенности реализации PowerSave);</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Работа на модуляциях, явно не соответствующих условиям эфира;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Самовольная раскраска трафика (QoS);</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Специфическая отработка сценариев на порталах авторизации (были проблемы при подключении к Wi-Fi в общественных местах?).</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Зафиксируем: напрямую управлять решениями драйверов клиентских устройств невозможно. Существующие механизмы позволяют лишь косвенно мотивировать клиентов к совершению нужного выбора. Клиент прав не всегда, но его это не волнует.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Уязвимость</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Как известно, безопасность системы в целом находится на уровне самого слабого из её элементов. В правильно настроенной беспроводной сети таким элементом неизбежно становится клиентское устройство. В чём проблема?<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Отсутствуют либо ограничены ресурсы для контроля и противодействия подозрительной активности;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Обновления политик безопасности недоступны, либо появляются с опозданием;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Производители выполняют требования стандарта избирательно, отсутствует универсальность;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Legacy-устройства не соответствуют современным требованиям безопасности;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">У администраторов нет контроля за клиентскими устройствами;<br /></li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Люди — пользователи устройств — уязвимы для социальной инженерии.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Ниже примеры решений, применяющихся в корпоративных сетях:<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Запрет BYOD. Сотрудникам выдаются устройства с предустановленным ПО, политиками безопасности управляет администратор;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">MDM (Mobile Device Management), NAC (Network Access Control) и прочие решения, позволяющие, с разной степенью эффективности, контролировать устройства клиентов. Можно, например, удалённо запретить использование камеры на смартфоне.<br /></li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Обычные пользователи проблемами безопасности зачастую пренебрегают вовсе.<br /><br />Тема безопасности беспроводных сетей обширна. В данной статье мы ограничимся тем, что основной вектор атаки киберпреступников — так называемый low hanging fruit. Чаще всего таким фруктом становится клиентское устройство.<br /><br /></span><img src="image1550232237bvjevkbeel.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Зачем пытаться напрямую влезть в защищённую сеть, если достаточно получить доступ к смартфону сотрудника, который из гордости не устанавливает обновления на свою ОС?<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Подытог №2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Перечисленные проблемы (многообразие, непредсказуемость и уязвимость клиентских устройств) бросают проектировщикам и администраторам беспроводных сетей серьёзный вызов.<br />Идеальное планирование, полноценное радиообследование и качественный монтаж не гарантируют стабильную работу сети.<br /><br />Знать, какими устройствами пользуются абоненты, действительно, важно. Остаётся понять, какими характеристиками обладает то или иное устройство.<br /><br />Неожиданно — это не самая простая задача.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Часть 3 — Производители что-то скрывают</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Способ 1. Логичный</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Казалось бы, что может быть проще — заходим на сайт производителя и смотрим на детальные спецификации устройств.<br /><br />Попробуем на примере привычного iPhone 8:<br /><br /></span><img src="image1550232237c68y9vs524.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://www.apple.com/iphone-8/specs/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">На сайте Apple.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />802.11ac Wi-Fi with MIMO… Не очень-то информативно. Сколько пространственных потоков? Какая максимальная ширина канала? Есть ли поддержка 802.11r, k, v? MU-MIMO?<br /><br />Samsung делится информацией о своём Galaxy S9 несколько охотнее:<br /><br /></span><img src="image15502322374d83bkhrx2.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://www.samsung.com/ru/smartphones/galaxy-s9/spec/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">На сайте Samsung.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Даже если отбросить загадочную модуляцию 1024QAM (официально она появится только в 802.11ax), мы по-прежнему знаем об устройстве слишком мало.<br /><br />Степень открытости производителей варьируется в широких пределах — есть и приятные исключения. В основном же во внутреннюю кухню никого не пускают (снова ради нашей пользы, разумеется), ведь многие знания — многие печали.<br /><br />С этим согласны не все.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Способ 2. Практичный</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Недовольные пользователи уже давно ведут собственные базы, куда заносят добытые характеристики устройств.<br /><br />Яркий пример — </span><a href="https://clients.mikealbano.com/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">сайт уважаемого Mike Albano.</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span><img src="image1550232237x9dw3ohv2v.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Здесь можно найти следующую информацию:<br /><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Список доступных устройству каналов;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Поддерживаемые стандарты;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Количество пространственных потоков;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Поддержка MU-MIMO;</li>
<li style=" font-family:'Sans Serif'; font-size:9pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Максимальная мощность передатчика.</li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Доверять или нет данной информации — дело каждого.<br />Любой неравнодушный может внести свою лепту, поделившись с общественностью результатами своих изысканий. Инструкция — в разделе </span><a href="https://clients.mikealbano.com/contribute"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">How To Contribute</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Из данной инструкции можно узнать, что вся интересующая нас информация содержится во фрейме Association Request, отправляемом клиентским устройством при подключении к AP.<br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Способ 3. Для гиков</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Всё, что нужно — это перехватить обмен сообщениями между абонентом и AP, сопутствующий первоначальному установлению соединения. Данный трафик не шифруется, однако сложности возникнуть могут — не все Wi-Fi адаптеры позволяют «сниффать» 802.11-фреймы. Операционные системы также могут в разной степени облегчить, либо усложнить задачу.<br />Тема великолепно гуглится, поэтому ссылок давать не будем.<br /><br />Счастливчики смогут наблюдать следующую картину:<br /><br /></span><img src="image1550232237gfi4d70lc2.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Тут есть всё, друзья.<br />Из любопытного — тот самый, уже надоевший, iPhone 8 не поддерживает MU-MIMO. Но не будем портить вам удовольствие. <br /><br />Кстати, готовые PCAP-файлы, полученные пользователями, можно скачать на том же самом </span><a href="https://clients.mikealbano.com/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">clients.mikealbano.com</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Способ 4. Бонусный</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Есть ещё один замечательный способ узнать всю подноготную устройства. Что примечательно — без регистрации и SMS.<br /><br />Все продаваемые на территории США устройства обязаны получить сертификацию от FCC — Federal Communications Commission (Федеральная Комиссия по Связи). В результате устройству присваивается FCC ID — уникальный номер, через который можно получить огромный объём информации прямо на </span><a href="https://www.fcc.gov/oet/ea/fccid"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">сайте FCC</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">.<br /><br />Сам код (FCC ID) часто можно найти на устройстве, либо на коробке от него. В крайнем случае, поможет интернет.<br /><br />Код состоит из двух частей: Grantee Code и Product Code. Вводите, как на картинке:<br /><br /></span><img src="image15502322376hvek6eiyb.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br />Мы получаем доступ к обширному архиву документов с данными, использованными во время сертификации. Доступны даже внутренние фотографии устройства — в некоторых случаях можно даже разглядеть модели чипов.<br /><br />Обратите особое внимание на файл SAR Report — на основании данного отчёта можно не только определиться с толщиной шапочки из фольги, но и получить подробную информацию о характеристиках устройства. Бинго!<br /><br /></span><img src="image1550232237kb0d7k2of4.png" /><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /><br /></span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Подытог №3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Производители не спешат раскрывать полную информацию о характеристиках клиентских устройств. Тем не менее, благодаря активности сообщества, открытым источникам и собственной настойчивости, можно получить все необходимые данные.<br /><br /></span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Заключение</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Зачем же знать, каким телефоном пользуется сотрудник? И пора ли менять свой старенький роутер?<br /><br />Разумеется, всё зависит от задач. Если вы хотите строить надёжные и предсказуемые сети — отмахнуться от клиентского оборудования не получится. Учитывайте его особенности при планировании и обслуживании — будете вознаграждены снижением расходов и ростом удовлетворённости пользователей.<br /><br />Всё сказанное не отменяет необходимости в использовании качественных точек доступа: многие наработки ведущих вендоров действительно эффективны — читайте наш блог, чтобы быть в курсе.<br />И ещё раз — учитывайте характеристики клиентов, чтобы тратить деньги на работающие решения.<br />Надеемся, что эта статья вам поможет.<br /><br />Удачи!<br /><br /></span><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">Автор: </span><a href="https://habr.com/users/skhomm/"><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic; text-decoration: underline; color:#0000ff;">Леонид Теканов</span></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-style:italic;">, инженер беспроводного отдела CompTek.</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br />Презентация по мотивам статьи прошла 25.10.2018 на нашей ежегодной конференции </span><a href="http://www.beseda.ru/21/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">«БЕСЕДА»</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;">. Не пропустите следующую.<br /><br /></span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">Полезные ресурсы:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><a href="https://www.cwnp.com/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">CWNP</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> — если хочется не только хорошо разбираться в беспроводных сетях, но и получить официальное признание в виде сертификата;<br /><br /></span><a href="http://www.revolutionwifi.net/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Revolution Wi-Fi</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> — сайт Andrew von Nagy — авторитетного товарища, подарившего миру удобнейший Revolution Capacity Planner;<br /><br /></span><a href="http://divdyn.com/blog/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">Divergent Dynamics</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> — сайт уважаемого Devin Akin, бескомпромиссного эксперта и автора множества ценных статей;<br /><br /></span><a href="https://www.wlanpros.com/resource/?wpv-category=blog"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">WLAN Professionals</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> — детище Keith Parsons — настоящего ветерана Wi-Fi. Множество полезных материалов и целая ежегодная конференция для тех, кто настроен серьёзно;<br /><br /></span><a href="https://badfi.com/"><span style=" font-family:'Sans Serif'; font-size:9pt; text-decoration: underline; color:#0000ff;">badfi.com</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"> — хороший сайт про плохой Wi-Fi.</span></p></body></html>