<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="1071404395152519371"></a><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">И</span><span style=" font-family:'Sans Serif'; font-size:9pt; font-weight:600;">спользование телевизора как монитора, через wifi (gemoroi edition) </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="post-body-1071404395152519371"></a><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">В</span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">водная:</span><span style=" font-family:'Tahoma'; font-size:9pt;"> Есть телевизор </span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">LG 47LB650V.</span><span style=" font-family:'Tahoma'; font-size:9pt;"> На него нужно сделать вывод графиков из 1С. в идеале с возможностью управления. То есть использовать телевизор в качестве монитора. Но телевизор подключен к сети через WiFi. Возможности проложить дополнительно провода или установить рядом компьютер-неттоп нет. Из хорошего - частота обновления достаточная для нормальной работы - один раз в минуту, то есть видео не будет.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">Поиск решения: </span><span style=" font-family:'Tahoma'; font-size:9pt;">Телевизор &quot;умный&quot; - SMART TV, есть магазин приложений и веб-браузер. Но чего-то для удалённого доступа к экрану монитора нет. (VNC, team viewer, RDP и прочее). Заявленный Screen Share также совершенно не работает. Miracast || Intel WiDi также не подошли по причине требования определённого сочетания железа и софта (ну и по невозможности поставить комп рядом). Думал над тем, чтобы выгружать графики в jpeg, а затем транслировать через DLNA - проблема в 1Ске (много графиков + могут меняться). Трансляцию рабочего стола в поток DLNA (к примеру через VLC) не завелась. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;">Из за корявого встроенного браузера всевозможные logmein, teamviewer, rdp over web не заработали. Родное VNC over web также не заработало, так как сделано через java, а телек его не поддерживает. То есть не поддерживает вообще ничего - ни джаву, ни флэш, ни activex.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;">Продолжая гуглинг наткнулся на такой софт ка </span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">NoVNC</span><span style=" font-family:'Tahoma'; font-size:9pt;">, который работает через Web Sockets, по сути проксируя родной TCP-IP VNC в web-sockets. Далее инструкция по настройке. </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Tahoma'; font-size:9pt;"><br />1. Заходим на </span><a href="http://www.tightvnc.com/download.php"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">http://www.tightvnc.com/download.php</span></a><span style=" font-family:'Tahoma'; font-size:9pt;">  и скачиваем </span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">TightVNC </span><span style=" font-family:'Tahoma'; font-size:9pt;">(в моём случае это был 32 битный инсталлер)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />2. Устанавливаем. Я при установке выбрал устанавливать только сервер. Также при установке выбрал устанавливать, как службу и добавить исключение в  файрвол.</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />3. Затем идём в настройки сервера, вбиваем пароль. Можно отключить встроенный web-доступ (там через джаву). Главное на вкладке Access Control </span><span style=" font-family:'Tahoma'; font-size:9pt; font-style:italic;">(на вкладе &quot;Administration&quot; в ветке 1.х)</span><span style=" font-family:'Tahoma'; font-size:9pt;">, установить галочку - </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:9pt;">&quot;Allow loopback connections&quot;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />4. Далее скачиваем</span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;"> websockify </span><a href="https://github.com/downloads/kanaka/websockify/websockify.zip"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://github.com/downloads/kanaka/websockify/websockify.zip</span></a><span style=" font-family:'Tahoma'; font-size:9pt;"> . Данная программа используетя как прокси для доступа к vnc порту через web socket`ы. Распаковываем (в моём примере в папку </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:9pt;">C:\NoVNC\</span><span style=" font-family:'Tahoma'; font-size:9pt;">)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />5. Далее скачиваем сервис </span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">Windows Websockify Service</span><span style=" font-family:'Tahoma'; font-size:9pt;"> </span><a href="https://github.com/downloads/kanaka/websockify/Websockify%20Windows%20Service.zip"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://github.com/downloads/kanaka/websockify/Websockify%20Windows%20Service.zip</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;">Распаковываем (в моём примере в папку </span><span style=" font-family:'Courier New,Courier,monospace'; font-size:9pt;">C:\NoVNC\</span><span style=" font-family:'Tahoma'; font-size:9pt;">)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />6. Создаём файл</span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;"> install.cmd</span><span style=" font-family:'Tahoma'; font-size:9pt;"> который сделает установку службы -</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Courier New,Courier,monospace'; font-size:9pt;">sc create &quot;noVNC Websocket Server&quot; binPath= &quot;C:\NoVNC\noVNC Websocket Service.exe&quot; DisplayName= &quot;noVNC Websocket Server&quot;</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;">Запускаем</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />7. В той же папке создаём файл </span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;">noVNCConfig.ini</span><span style=" font-family:'Tahoma'; font-size:9pt;"> и заполняем его примерно так -</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Courier New,Courier,monospace'; font-size:9pt;">:7000 localhost:5900</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;">(7000 порт для вебсокета, localhost - текущий комп, можно сделать перенаправление на другой, но в рамках данной статьи это не рассматривается, 5900 - порт VNC по умолчанию, если вы его меняли установите другой)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />8. Далее заходим в оснастку &quot;Управление&quot; запускаем службу  &quot;noVNC Websocket Server&quot; (можно сразу изменить тип запуска на &quot;Авто&quot;)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />9. Теперь можем заходить на </span><a href="http://novnc.com/"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">http://novnc.com/</span></a><span style=" font-family:'Tahoma'; font-size:9pt;"> и тестируем соединение указав в качестве хоста наш внешний адрес (можно посмотреть на 2ip.ru, если есть роутер, то нужно настроить перенаправление на порты 5900-5901 и 7000)</span><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />10. Если всё работает, то можно копировать novnc на свой сервер - </span><a href="https://github.com/kanaka/noVNC/releases/latest"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">https://github.com/kanaka/noVNC/releases/latest</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br />11. Далее можно настроить прямой доступ на рабочий стол по адресу и добавить в страницу по умолчанию на телевизоре - </span><a href="http://localhost:8080/noVNC-0.5/vnc_auto.html?autoconnect=true&amp;host=HOSTNAME&amp;port=7000&amp;password=PASSWORD&amp;encrypt=false"><span style=" font-family:'Tahoma'; font-size:9pt; text-decoration: underline; color:#0000ff;">http://httpserver/noVNC-0.5/vnc_auto.html?autoconnect=true&amp;host=HOSTNAME&amp;port=7000&amp;password=PASSWORD&amp;encrypt=false</span></a><span style=" font-family:'Sans Serif'; font-size:9pt;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt; font-weight:600;"><br /></span><span style=" font-family:'Tahoma'; font-size:9pt;"><br /></span></p>
<p align="center" style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Sans Serif'; font-size:9pt;"><br /></p></body></html>