<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="title"></a><span style=" font-size:xx-large; font-weight:600;">I</span><span style=" font-size:xx-large; font-weight:600;">nstall Docker Engine on Debian</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-style:italic;">Estimated reading time: 11 minutes</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To get started with Docker Engine on Debian, make sure you <a href="https://docs.docker.com/engine/install/debian/#prerequisites"><span style=" text-decoration: underline; color:#0000ff;">meet the prerequisites</span></a>, then <a href="https://docs.docker.com/engine/install/debian/#installation-methods"><span style=" text-decoration: underline; color:#0000ff;">install Docker</span></a>. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="prerequisites"></a><span style=" font-size:x-large; font-weight:600;">P</span><span style=" font-size:x-large; font-weight:600;">rerequisites</span> </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="os-requirements"></a><span style=" font-size:large; font-weight:600;">O</span><span style=" font-size:large; font-weight:600;">S requirements</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To install Docker Engine, you need the 64-bit version of one of these Debian or Raspbian versions: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Debian Bullseye 11 (stable) </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Debian Buster 10 (oldstable) </li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Raspbian Bullseye 11 (stable) </li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Raspbian Buster 10 (oldstable) </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Docker Engine is supported on <span style=" font-family:'monospace';">x86_64</span> (or <span style=" font-family:'monospace';">amd64</span>), <span style=" font-family:'monospace';">armhf</span>, and <span style=" font-family:'monospace';">arm64</span> architectures. </p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="uninstall-old-versions"></a><span style=" font-size:large; font-weight:600;">U</span><span style=" font-size:large; font-weight:600;">ninstall old versions</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Older versions of Docker were called <span style=" font-family:'monospace';">docker</span>, <span style=" font-family:'monospace';">docker.io</span>, or <span style=" font-family:'monospace';">docker-engine</span>. If these are installed, uninstall them: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get remove docker docker-engine docker.io containerd runc</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It’s OK if <span style=" font-family:'monospace';">apt-get</span> reports that none of these packages are installed. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The contents of <span style=" font-family:'monospace';">/var/lib/docker/</span>, including images, containers, volumes, and networks, are preserved. The Docker Engine package is now called <span style=" font-family:'monospace';">docker-ce</span>. </p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="installation-methods"></a><span style=" font-size:x-large; font-weight:600;">I</span><span style=" font-size:x-large; font-weight:600;">nstallation methods</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">You can install Docker Engine in different ways, depending on your needs: </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Most users <a href="https://docs.docker.com/engine/install/debian/#install-using-the-repository"><span style=" text-decoration: underline; color:#0000ff;">set up Docker’s repositories</span></a> and install from them, for ease of installation and upgrade tasks. This is the recommended approach, except for Raspbian. </li>
<li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Some users download the DEB package and <a href="https://docs.docker.com/engine/install/debian/#install-from-a-package"><span style=" text-decoration: underline; color:#0000ff;">install it manually</span></a> and manage upgrades completely manually. This is useful in situations such as installing Docker on air-gapped systems with no access to the internet. </li>
<li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">In testing and development environments, some users choose to use automated <a href="https://docs.docker.com/engine/install/debian/#install-using-the-convenience-script"><span style=" text-decoration: underline; color:#0000ff;">convenience scripts</span></a> to install Docker. This is currently the only approach for Raspbian. </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="install-using-the-repository"></a><span style=" font-size:large; font-weight:600;">I</span><span style=" font-size:large; font-weight:600;">nstall using the repository</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Before you install Docker Engine for the first time on a new host machine, you need to set up the Docker repository. Afterward, you can install and update Docker from the repository. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Raspbian users cannot use this method!</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;">For Raspbian, installing using the repository is not yet supported. You must instead use the <a href="https://docs.docker.com/engine/install/debian/#install-using-the-convenience-script"><span style=" text-decoration: underline; color:#0000ff;">convenience script</span></a>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="set-up-the-repository"></a><span style=" font-size:medium; font-weight:600;">S</span><span style=" font-size:medium; font-weight:600;">et up the repository</span> </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Update the <span style=" font-family:'monospace';">apt</span> package index and install packages to allow <span style=" font-family:'monospace';">apt</span> to use a repository over HTTPS: </li></ol>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get update</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace';"><br /></pre>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get install \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">    ca-certificates \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">    curl \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">    gnupg \</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';">    lsb-release</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Add Docker’s official GPG key: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Use the following command to set up the <span style=" font-weight:600;">stable</span> repository. To add the <span style=" font-weight:600;">nightly</span> or <span style=" font-weight:600;">test</span> repository, add the word <span style=" font-family:'monospace';">nightly</span> or <span style=" font-family:'monospace';">test</span> (or both) after the word <span style=" font-family:'monospace';">stable</span> in the commands below. <a href="https://docs.docker.com/engine/install/"><span style=" text-decoration: underline; color:#0000ff;">Learn about </span></a><a href="https://docs.docker.com/engine/install/"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">nightly</span></a><a href="https://docs.docker.com/engine/install/"><span style=" text-decoration: underline; color:#0000ff;"> and </span></a><a href="https://docs.docker.com/engine/install/"><span style=" font-weight:600; text-decoration: underline; color:#0000ff;">test</span></a><a href="https://docs.docker.com/engine/install/"><span style=" text-decoration: underline; color:#0000ff;"> channels</span></a>. </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace';"><pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> echo \</pre>
<li style=" font-family:'monospace';"><pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian \</pre>
<li style=" font-family:'monospace';"><pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  $(lsb_release -cs) stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</pre>
<li style=" font-family:'monospace';"><pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="install-docker-engine"></a><span style=" font-size:medium; font-weight:600;">I</span><span style=" font-size:medium; font-weight:600;">nstall Docker Engine</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">This procedure works for Debian on <span style=" font-family:'monospace';">x86_64</span> / <span style=" font-family:'monospace';">amd64</span>, <span style=" font-family:'monospace';">armhf</span>, <span style=" font-family:'monospace';">arm64</span>, and Raspbian. </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Update the <span style=" font-family:'monospace';">apt</span> package index, and install the <span style=" font-style:italic;">latest version</span> of Docker Engine and containerd, or go to the next step to install a specific version: </li></ol>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get update</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace';"><br /></pre>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get install docker-ce docker-ce-cli containerd.io</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;">Got multiple Docker repositories? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;">If you have multiple Docker repositories enabled, installing or updating without specifying a version in the <span style=" font-family:'monospace';">apt-get install</span> or <span style=" font-family:'monospace';">apt-get update</span> command always installs the highest possible version, which may not be appropriate for your stability needs. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;">Receiving a GPG error when running <span style=" font-family:'monospace';">apt-get update</span>? </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px;">Your default umask may not be set correctly, causing the public key file for the repo to not be detected. Run the following command and then try to update your repo again: <span style=" font-family:'monospace';">sudo chmod a+r /usr/share/keyrings/docker-archive-keyring.gpg</span>. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To install a <span style=" font-style:italic;">specific version</span> of Docker Engine, list the available versions in the repo, then select and install: </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">a. List the versions available in your repo: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> apt-cache madison docker-ce</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'monospace';"><br /></pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">b. Install a specific version using the version string from the second column, for example, <span style=" font-family:'monospace';">5:18.09.1~3-0~debian-stretch </span>. </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'monospace';"> sudo apt-get install docker-ce=&lt;VERSION_STRING&gt; docker-ce-cli=&lt;VERSION_STRING&gt; containerd.io</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Verify that Docker Engine is installed correctly by running the <span style=" font-family:'monospace';">hello-world</span> image. </p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'monospace';"><pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> sudo docker run hello-world</pre>
<li style=" font-family:'monospace';"><pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </pre></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;">This command downloads a test image and runs it in a container. When the container runs, it prints a message and exits. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Docker Engine is installed and running. The <span style=" font-family:'monospace';">docker</span> group is created but no users are added to it. You need to use <span style=" font-family:'monospace';">sudo</span> to run Docker commands. Continue to <a href="https://docs.docker.com/engine/install/linux-postinstall/"><span style=" text-decoration: underline; color:#0000ff;">Linux postinstall</span></a> to allow non-privileged users to run Docker commands and for other optional configuration steps. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="upgrade-docker-engine"></a><span style=" font-size:medium; font-weight:600;">U</span><span style=" font-size:medium; font-weight:600;">pgrade Docker Engine</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">To upgrade Docker Engine, first run <span style=" font-family:'monospace';">sudo apt-get update</span>, then follow the <a href="https://docs.docker.com/engine/install/debian/#install-using-the-repository"><span style=" text-decoration: underline; color:#0000ff;">installation instructions</span></a>, choosing the new version you want to install.</p></body></html>